# 다음 단계 작업 가이드

**업데이트**: 2024년 12월  
**현재 상태**: 로깅 시스템 전환 및 프로덕션 빌드 설정 완료

## ✅ 최근 완료된 작업

1. ✅ **로깅 시스템 전환** - 171개 console → logger 전환 완료
2. ✅ **프로덕션 빌드 설정** - 환경별 빌드 스크립트 및 로그 레벨 관리 완료

## 🎯 다음 단계 작업 (우선순위순)

### 1. 테스트 환경 이슈 수정 (우선순위: 높음) ⚠️

**현재 문제**: 
- logger.ts의 window.location 접근으로 인한 테스트 실패 (3개)
- 테스트 환경에서 window.location mock 필요

**작업 내용**:
- `src/test/setup.ts`에 window.location mock 추가
- logger 초기화 시 window.location 체크 강화
- 모든 테스트 통과 확인

**예상 시간**: 30분

---

### 2. 접근성 (A11y) 개선 (우선순위: 높음) ⏳

**예상 시간**: 3-4시간

**작업 내용**:

#### 2.1 ARIA 레이블 추가
- 모든 버튼에 `aria-label` 추가
- 입력 필드에 `aria-describedby` 추가
- 모달에 `role="dialog"`, `aria-modal="true"` 추가
- 동적 콘텐츠에 `aria-live` 추가

#### 2.2 키보드 내비게이션 지원
- 모든 버튼/링크에 키보드 접근 가능 확인
- Tab 순서 최적화 (`tabindex` 관리)
- Escape 키로 모달 닫기
- Enter/Space 키로 버튼 활성화

#### 2.3 스크린 리더 호환성
- 의미 있는 HTML 구조 (`<header>`, `<nav>`, `<main>`, `<footer>` 등)
- 적절한 헤딩 레벨 (`<h1>` ~ `<h6>`)
- 이미지에 `alt` 텍스트 추가
- 폼 필드에 `<label>` 연결

#### 2.4 색상 대비 개선
- WCAG AA 기준 준수 (4.5:1)
- 텍스트-배경 대비 확인
- 포커스 인디케이터 명확화

**적용 대상 파일**:
- `index.html` - HTML 구조 개선
- `styles.css` - 색상 대비, 포커스 스타일

**효과**:
- 접근성 향상 (WCAG 2.1 AA 준수)
- 더 많은 사용자 지원 (시각 장애인, 운동 장애인 등)
- 법적 준수 (웹 접근성법)

---

### 3. 테스트 커버리지 향상 (우선순위: 중간) ⏳

**예상 시간**: 6-8시간  
**현재 커버리지**: ~40% → 목표: 60%+

**작업 내용**:

#### 3.1 LeagueManager 테스트
- 반 생성/삭제/선택
- 학생 추가/삭제/편집
- 경기 생성/점수 입력
- 순위 계산 로직

#### 3.2 TournamentManager 테스트
- 토너먼트 생성/삭제
- 팀 관리
- 대진표 구성 (3-24팀)
- 경기 점수 입력 및 승자 전파

#### 3.3 ProgressManager 테스트
- 반 생성/관리
- 수업 일정 관리
- 세션 완료 처리

**효과**:
- 테스트 커버리지 60%+ 달성
- 코드 신뢰성 향상
- 리팩토링 안정성 확보

---

### 4. 성능 최적화 (우선순위: 중간) ⏳

**예상 시간**: 4-6시간

**작업 내용**:
- 번들 크기 분석 (webpack-bundle-analyzer 또는 rollup-plugin-visualizer)
- 코드 스플리팅 (Manager 모듈 동적 import)
- 가상 스크롤링 (대량 데이터 렌더링 시)
- 디바운싱 최적화 (DataManager 저장 로직)
- 이미지 최적화 (필요 시)

**효과**:
- 초기 로딩 시간 단축
- 메모리 사용량 감소
- 사용자 경험 개선

---

### 5. E2E 테스트 도입 (우선순위: 낮음) ⏳

**예상 시간**: 6-8시간

**작업 내용**:
- Playwright 또는 Cypress 선택 및 설정
- 주요 사용자 시나리오 테스트 작성
  - 로그인 → 반 생성 → 학생 추가 → 경기 생성 → 점수 입력
  - PAPS 기록 입력 → 등급 계산 → 랭킹 표시
  - 토너먼트 생성 → 대진표 구성 → 경기 진행

**효과**:
- 통합 테스트 커버리지 향상
- 회귀 버그 방지
- 사용자 플로우 검증

---

### 6. CI/CD 파이프라인 구축 (우선순위: 낮음) ⏳

**예상 시간**: 3-4시간

**작업 내용**:
- GitHub Actions 설정
- 자동화된 테스트 실행 (PR 생성 시)
- 자동화된 빌드 및 배포 (main 브랜치 push 시)
- 코드 품질 체크 (TypeScript, 테스트 커버리지)

**효과**:
- 개발 워크플로우 자동화
- 품질 보장
- 배포 프로세스 간소화

---

## 📊 현재 상태 요약

### 완료된 작업
- ✅ 모듈화 및 타입 안정성 강화
- ✅ 데이터 검증 (Zod)
- ✅ 에러 핸들링 및 토스트 알림
- ✅ 핵심 모듈 테스트 (AuthManager, DataManager, PapsManager)
- ✅ 에러 리포팅 (Sentry)
- ✅ 보안 강화 (Firebase 규칙, CSP, 보안 헤더)
- ✅ 로깅 시스템 전환
- ✅ 프로덕션 빌드 설정

### 다음 우선순위
1. **테스트 환경 이슈 수정** (30분)
2. **접근성 개선** (3-4시간)
3. **테스트 커버리지 향상** (6-8시간)
4. **성능 최적화** (4-6시간)

---

**권장 시작 순서**: 테스트 환경 이슈 수정 → 접근성 개선

